<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <title>Vagtplan</title>
  <style>
    #content {
      height: calc(100% - 50px);
    }

    #topbar {
      padding: 20px;
    }

    #topbar #monthAndYearHolder {
      float: left;
      font-size: 17.5px;
      line-height: 17.5px;
      padding: 6.25px 20px;
      color: #555;
      font-weight: bold;
      width: 175px;
      text-align: center;
    }

    #topbar #showSpecificCalendar {
      float: right;
    }

    #topbar #showSpecificCalendar label {
      font-size: 17.5px;
      line-height: 17.5px;
      padding: 6.25px 20px;
      color: #555;
      font-weight: bold;
    }

    #calendar {
      height: calc(100% - 70px);
    }

    #calendar-table {
      background: #fff;
      box-shadow: 0 0 5px #aaa;
      height: 100%;
    }

    #calendar-table tr th {
      font-size: 17.5px;
      color: #444;
      padding: 10px 0;
      border-bottom: 1px solid #666;
    }

    #calendar-table tr td {
      width: calc(100% / 7);
    }

    #calendar-table tr td.unavailable {
      background-color: #eee;
    }

    #calendar-table tr td.unavailable div .date{
      color: #aaa;
    }

    #calendar-table tr:not(:last-child) td {
      border-bottom: 1px solid #ccc;
    }

    #calendar-table tr td:not(:last-child) {
      border-right: 1px solid #ccc;
    }

    #calendar-table tr td div {
      position: relative;
      height: 100%;
    }

    #calendar-table tr td div .date {
      position: absolute;
      top: 5px;
      right: 5px;
      font-size: 15px;
      padding: 5px;
      width: 30px;
      text-align: center;
    }
  </style>
  <link rel="stylesheet" href="css.css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>
    $(document).ready(function() {
        $("#openCreateNewSchedule").click(function () {
            $("#overlay, #createNewSchedule").show();
        });
        
        $("#cancelScheduleCreate, #overlay").click(function () {
            $("#overlay, .popup-formular").hide();
        });
    });
  </script>
</head>
<body>
  <div th:replace="/includes/menu::menu"></div>
  <div id="content">
    <div id="overlay"></div>
    <div id="createNewSchedule" class="popup-formular" style="margin-left: -270px; margin-top: -161px;">
      <h2>Opret ny vagt</h2>
      <form method="post">
        <table class="popup-table">
          <tr>
            <td><label for="employeeField">Medarbejder:</label></td>
            <td>
              <select id="employeeField" name="employee">
                <option value="0" disabled selected>Vælg</option>
                <option value="1">Bjarne</option>
              </select>
            </td>
          </tr>
          <tr>
            <td><label for="dateField">Dato:</label></td>
            <td><input id="dateField" name="date" type="date"/></td>
          </tr>
          <tr>
            <td><label for="fromField">Fra:</label></td>
            <td><input id="fromField" name="fromTime" type="time"/></td>
          </tr>
          <tr>
            <td><label for="toField">Til:</label></td>
            <td><input id="toField" name="toTime" type="time"/></td>
          </tr>
          <tr>
            <td><input id="cancelScheduleCreate" type="button" value="Annuller" class="red-btn"/></td>
            <td><input name="saveSchedule" type="submit" value="Opret" class="green-btn" style="float: right"/></td>
          </tr>
        </table>
      </form>
    </div>
    <div id="calendar">
      <div id="topbar">
        <form method="post">
          <input name="month_chooser" type="submit" value="Forrige" class="blue-btn" />
          <p id="monthAndYearHolder" th:text="${monthAndYear_TXT}"></p>
          <input name="month_chooser" type="submit" value="Næste" class="blue-btn" />
          <input type="button" value="Opret ny vagt" class="green-btn" style="margin-left: 20px;" id="openCreateNewSchedule" />
        </form>
        <div id="showSpecificCalendar">
          <table>
            <tr>
              <td style="padding-right: 0px;">
                <label for="showCalendar">Vis kalender for </label>
              </td>
              <td style="min-width: 200px;">
                <select id="showCalendar" name="showCalendar" style="padding: 3px 5px;">
                  <option value="0">Alle</option>
                  <option value="1">Bjarne</option>
                </select>
              </td>
            </tr>
          </table>
        </div>
        <div class="clear"></div>
      </div>
      <table id="calendar-table">
        <thead>
          <tr>
            <th>Mandag</th>
            <th>Tirsdag</th>
            <th>Onsdag</th>
            <th>Torsdag</th>
            <th>Fredag</th>
            <th>Lørdag</th>
            <th>Søndag</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="index: ${#numbers.sequence(0, 41, 7)}">
            <td th:classappend="${daysInThisMonth[index + 0]} ? '' : 'unavailable'"><div><p class="date" th:text="${days[index + 0]}"></p></div></td>
            <td th:classappend="${daysInThisMonth[index + 1]} ? '' : 'unavailable'"><div><p class="date" th:text="${days[index + 1]}"></p></div></td>
            <td th:classappend="${daysInThisMonth[index + 2]} ? '' : 'unavailable'"><div><p class="date" th:text="${days[index + 2]}"></p></div></td>
            <td th:classappend="${daysInThisMonth[index + 3]} ? '' : 'unavailable'"><div><p class="date" th:text="${days[index + 3]}"></p></div></td>
            <td th:classappend="${daysInThisMonth[index + 4]} ? '' : 'unavailable'"><div><p class="date" th:text="${days[index + 4]}"></p></div></td>
            <td th:classappend="${daysInThisMonth[index + 5]} ? '' : 'unavailable'"><div><p class="date" th:text="${days[index + 5]}"></p></div></td>
            <td th:classappend="${daysInThisMonth[index + 6]} ? '' : 'unavailable'"><div><p class="date" th:text="${days[index + 6]}"></p></div></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>